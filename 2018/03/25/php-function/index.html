<!DOCTYPE html><html lang="zh-cn"><head><meta charset="utf-8"><title>php常用函数 | 而废不能半途</title><meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no"><meta name="format-detection" content="telephone=no"><meta name="author" content="[object Object]"><meta name="designer" content="minfive"><meta name="keywords" content="double-c, chao, 后端, 程序员, laravel, php"><meta name="description" content="总不能还没有努力就向生活妥协。"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-status-bar-style" content="black"><meta name="format-detection" content="telephone=yes"><meta name="mobile-web-app-capable" content="yes"><meta name="robots" content="all"><link rel="canonical" href="https://double-c.github.io/2018/03/25/php-function/index.html"><link rel="icon" type="image/png" href="/img/favicon.ico" sizes="32x32"><link rel="stylesheet" href="/scss/base/index.css"><link rel="alternate" href="/atom.xml" title="Double-c"><link rel="stylesheet" href="/scss/views/page/post.css"></head><body ontouchstart><div id="page-loading" class="page page-loading" style="background-image:url(/img/loader.gif)"></div><div id="page" class="page js-hidden"><header class="page__small-header page__header--small"><nav class="page__navbar"><div class="page__container navbar-container"><a class="page__logo" href="/" title="Double-c" alt="Double-c"><img src="/img/chao-logo-white.png" alt="Double-c"></a><nav class="page__nav"><ul class="nav__list clearfix"><li class="nav__item"><a href="/" alt="首页" title="首页">首页</a></li><li class="nav__item"><a href="/archives" alt="归档" title="归档">归档</a></li><li class="nav__item"><a href="/about" alt="关于" title="关于">关于</a></li></ul></nav><button class="page__menu-btn" type="button"><i class="iconfont icon-menu"></i></button></div></nav></header><main class="page__container page__main"><div class="page__content"><article class="page__post"><div class="post__cover"><img src="/img/posts/php-function.png" alt="php常用函数"></div><header class="post__info"><h1 class="post__title">php常用函数</h1><div class="post__mark"><div class="mark__block"><i class="mark__icon iconfont icon-write"></i><ul class="mark__list clearfix"><li class="mark__item"><a href="https://github.com/Double-C">chao</a></li></ul></div><div class="mark__block"><i class="mark__icon iconfont icon-time"></i><ul class="mark__list clearfix"><li class="mark__item"><span>2018-03-25</span></li></ul></div><div class="mark__block"><i class="mark__icon iconfont icon-tab"></i><ul class="mark__list clearfix"><li class="mark__item"><a href="/tags/php/">Php</a></li></ul></div></div></header><div class="post__content"><h2 id="PHP函数"><a href="#PHP函数" class="headerlink" title="PHP函数"></a>PHP函数</h2><p>整理下一些函数，方便查阅。</p><p>常用业务都是查询出对应的数据，通常都是字符串和数组</p><p>然后对其进行操作，返回业务需求所需的数据格式</p><h4 id="目录"><a href="#目录" class="headerlink" title="目录"></a>目录</h4><ul><li>字符串<ul><li><a href="#字符串转数组">字符串转数组</a></li><li><a href="#控制字符串大小写">控制字符串大小写</a></li><li><a href="#去除字符串空白符">去除字符串空白符</a></li><li><a href="#文本在指定长度后换行">文本在指定长度后换行</a></li><li><a href="#数字处理">数字处理</a></li><li><a href="#汉字处理">汉字处理</a></li><li><a href="#字符串搜索">字符串搜索</a></li></ul></li><li>数组<ul><li><a href="#键">键</a></li><li><a href="#值">值</a></li><li><a href="#操作数组">操作数组</a></li><li><a href="#统计数组">统计数组</a></li><li><a href="#使用回调函数处理数组元素">使用回调函数处理数组元素</a></li><li><a href="#排序">排序</a></li></ul></li></ul><h5 id="字符串转数组"><a href="#字符串转数组" class="headerlink" title="字符串转数组"></a>字符串转数组</h5><p><code>explode()</code></p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$str = <span class="string">"Hello world. I love Shanghai!"</span>;</span><br><span class="line">print_r(explode(<span class="string">" "</span>, $str));</span><br></pre></td></tr></table></figure><h5 id="控制字符串大小写"><a href="#控制字符串大小写" class="headerlink" title="控制字符串大小写"></a>控制字符串大小写</h5><ul><li><code>ucfirst()</code> ：字符串中的第一个单词首字母大写</li><li><code>ucwords()</code> ：字符串中的多个单词首字母大写</li><li><code>strtolower()</code> ：修改整个字符串为小写</li><li><code>strtoupper()</code> ：修改整个字符串为大写</li></ul><h5 id="去除字符串空白符"><a href="#去除字符串空白符" class="headerlink" title="去除字符串空白符"></a>去除字符串空白符</h5><ul><li><code>ltrim()</code> ：从字符串开头删除空白符</li><li><code>rtrim()</code>： 从字符串末尾开始删除空白符</li><li><code>trim()</code> ： 会删除字符串开头和末尾的空白符。(第二个参数可以指定需要去除的字符)</li></ul><blockquote><p>空白符 : 换行、回车、空格、水平和垂直制表符、以及null…..</p></blockquote><h5 id="文本在指定长度后换行"><a href="#文本在指定长度后换行" class="headerlink" title="文本在指定长度后换行"></a>文本在指定长度后换行</h5><p><code>wordwrap()</code> ：默认会每75个字符自动换行</p><p>还提供第二个参数指定一个不同的行长度</p><p>第三个参数可以使用其他字符换行符</p><h5 id="数字处理"><a href="#数字处理" class="headerlink" title="数字处理"></a>数字处理</h5><ul><li><code>round($string, $a)</code> ：$a 代表小数点后几位，四舍五入</li><li><code>ceil()</code> ：向上取整，结果为整数</li><li><code>floor()</code> ：向下取整，结果为整数</li><li><code>range($start, $end, $length)</code> ：生成指定范围的字符串数组</li><li><code>mt_rand()</code> ：生成随机数</li><li><code>number_format()</code> ：格式化数字 千位分隔符</li></ul><h5 id="汉字处理"><a href="#汉字处理" class="headerlink" title="汉字处理"></a>汉字处理</h5><ul><li><code>mb_strlen()</code> ：计算字符串长度 一个汉字也会认为是长度为1 可以指定编码</li><li><code>mb_substr()</code> ：字符串截取 0第一个字符 -1 最后一个字符 可以指定编码</li></ul><h5 id="字符串搜索"><a href="#字符串搜索" class="headerlink" title="字符串搜索"></a>字符串搜索</h5><ul><li><code>strpos()</code> ：查找字符串在另一字符串中第一次出现的位置，大小写敏感</li><li><code>strripos()</code> ：查找字符串在另一字符串中<strong>最后一次</strong>出现的位置，大小写敏感</li></ul><h4 id="数组"><a href="#数组" class="headerlink" title="数组"></a>数组</h4><p>PHP允许将任何数据类型赋至一个数组元素</p><p>每个数组中每个键只能包含一个唯一的值</p><p>数组处理完成后，<code>array_unique()</code> 就是<strong>删除重复元素</strong>的最佳方法</p><p>要循环遍历一个数组,并处理其中的所有或部分元素</p><p>最容易的方法是使用foreach</p><p><code>foreach()</code> 返回的变量并不是数组中原值的别名</p><p>它们是一些副本,如果修改这些值,<strong>不会反映到数组中</strong></p><p>如果想要在 <code>foreach()</code> 中修改值：</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">foreach</span>($arr <span class="keyword">as</span> &amp;$v) &#123;		<span class="comment">// 使用引用符，对数组的修改会反映到数组中</span></span><br><span class="line">    ......</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>批量赋值：</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">list</span>($a, $b, $c) = $arr    <span class="comment">// 等同于  $a = $arr[0]     $b = arr[1]     $c = arr[2]</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">$a = <span class="string">'A'</span>;</span><br><span class="line">$b = <span class="string">'B'</span>;</span><br><span class="line">$c = <span class="string">'C'</span>;</span><br><span class="line">compact(<span class="string">'a'</span>, <span class="string">'b'</span>, <span class="string">'c'</span>);   <span class="comment">// 等同于 $arr['a'] = 'A', $arr['b'] = 'B'</span></span><br></pre></td></tr></table></figure><h5 id="键"><a href="#键" class="headerlink" title="键"></a>键</h5><ul><li><code>array_keys()</code> ：返回数组中所有的键名</li><li><code>array_key_exists()</code> ：检查给定的键名或索引是否存在于数组中</li></ul><h5 id="值"><a href="#值" class="headerlink" title="值"></a>值</h5><ul><li><code>array_values()</code> ：返回数组中所有的值，适合用于数组中元素下标混乱的数组或者将关联数组转成索引数组</li><li><code>in_array()</code> ：检查数组中是否存在某个值(返回布尔值) 默认使用 <code>==</code> 判断 可以在第三个参数加上true使用 <code>===</code></li><li><code>array_search()</code> ： 检查数组中是否存在某个值，返回键值</li></ul><h5 id="操作数组"><a href="#操作数组" class="headerlink" title="操作数组"></a>操作数组</h5><ul><li><code>array_flip()</code> ： 交换数组中的键和值。返回一个反转后的数组，如果同一个值出现了多次，则最后一个键名将作为他的值</li><li><code>array_reverse()</code> ：将数组中的元素翻转， 键值不变，顺序翻转</li><li><code>array_unique()</code> ：用于删除数组中重复的值，并返回没有重复值的新数组</li><li><code>array_intersect()</code> ：计算两个数组的交集</li><li><code>array_diff()</code> ： 计算两个数组的差值</li><li><code>unset()</code> ： 删除一个或者多个不连续的元素</li><li><code>array_splice()</code> ：删除多个连续的元素 ，会自动对数组重新进行索引</li><li><code>array_slice()</code> ：数组截取，不会改变原数组</li></ul><h5 id="统计数组"><a href="#统计数组" class="headerlink" title="统计数组"></a>统计数组</h5><ul><li><code>count()</code> ：计算数组中元素的个数或对象中属性个数，对于其他值返回1，如果参数是变量没有定义返回0</li><li><code>array_count_values()</code> ： 用于统计数组中所有的值出现的次数，返回的数组键名是原来的值,返回的值是键名在原数组出现的次数</li><li><code>array_sum()</code> ： 计算数组中所有的值的和</li></ul><h5 id="使用回调函数处理数组元素"><a href="#使用回调函数处理数组元素" class="headerlink" title="使用回调函数处理数组元素"></a>使用回调函数处理数组元素</h5><ul><li><code>array_filter()</code> ：使用回调函数过滤数组中的元素</li><li><code>array_walk()</code> ：对数组中的每个元素都应用回调函数处理</li><li><code>array_map()</code> ： 对多个数组中的每个元素都应用回调函数处理，多个数组时长度应该相同,函数是平行作用的，如果长度不同，最短的数组会用空值填充</li></ul><h5 id="排序"><a href="#排序" class="headerlink" title="排序"></a>排序</h5><ul><li><code>sort()</code> [ <code>rsort()</code> ] ：按升序(降序)对给定的数组的值排序，把数组转为索引数组</li><li><code>ksrot</code> [ <code>krsort()</code> ] ：按升序(降序)对给定的数组的键值排序</li><li><code>asort</code> [ <code>arsort()</code> ] ：按升序(降序)对给定数组的值进行排序，排序后保留索引关系</li><li><code>array_multisort($empty_arr, SORT_DESC)</code> ：二维数组排序，会改变原数组</li></ul><h5 id="数组转字符串"><a href="#数组转字符串" class="headerlink" title="数组转字符串"></a>数组转字符串</h5><p><code>implode()</code></p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$arr = <span class="keyword">array</span>(<span class="string">'Hello'</span>,<span class="string">'World!'</span>,<span class="string">'I'</span>,<span class="string">'love'</span>,<span class="string">'Shanghai!'</span>);</span><br><span class="line"><span class="keyword">echo</span> implode(<span class="string">" "</span>, $arr);</span><br></pre></td></tr></table></figure><div class="post-announce">感谢您的阅读，本文由 <a href="https://double-c.github.io">Double-c</a> 版权所有。如若转载，请注明出处：Double-c（<a href="https://double-c.github.io/2018/03/25/php-function/">https://double-c.github.io/2018/03/25/php-function/</a>）</div><div class="post__prevs"><div class="post__prev"><a href="/2017/12/17/code-string/" title="字符编码"><i class="iconfont icon-prev"></i>字符编码</a></div><div class="post__prev post__prev--right"><a href="/2018/05/22/php-unit/" title="编写优秀的单元测试">编写优秀的单元测试<i class="iconfont icon-next"></i></a></div></div></div></article><div id="comment-container"></div></div><aside class="page__sidebar"><form id="page-search-from" class="page__search-from" action="/search/"><label class="search-form__item"><input class="input" type="text" name="search" placeholder="Search..."> <i class="iconfont icon-search"></i></label></form><div class="sidebar__block"><h3 class="block__title">简介</h3><p class="block__text">总不能还没有努力就向生活妥协。</p></div><div class="sidebar__block"><h3 class="block__title">文章分类</h3><ul class="block-list"><li class="block-list-item"><a class="block-list-link" href="/categories/那些年踩过的坑/">那些年踩过的坑</a><span class="block-list-count">1</span></li><li class="block-list-item"><a class="block-list-link" href="/categories/运维笔记/">运维笔记</a><span class="block-list-count">2</span></li><li class="block-list-item"><a class="block-list-link" href="/categories/更好的自己/">更好的自己</a><span class="block-list-count">2</span></li><li class="block-list-item"><a class="block-list-link" href="/categories/后端开发/">后端开发</a><span class="block-list-count">14</span></li></ul></div><div class="sidebar__block"><h3 class="block__title">最新文章</h3><ul class="block-list latest-post-list"><li class="latest-post-item"><a href="/2019/07/05/code-life/" title="code-life"><div class="item__cover"><img src="/img/posts/code-life.jpg" alt="code-life"></div><div class="item__info"><h3 class="item__title">code-life</h3><span class="item__text">2019-07-05</span></div></a></li><li class="latest-post-item"><a href="/2019/06/20/mysql-transformer/" title="MySQL隐式转换"><div class="item__cover"><img src="/img/posts/transformer.jpg" alt="MySQL隐式转换"></div><div class="item__info"><h3 class="item__title">MySQL隐式转换</h3><span class="item__text">2019-06-20</span></div></a></li><li class="latest-post-item"><a href="/2019/06/20/my-vps-install/" title="my-vps-install"><div class="item__cover"><img src="/img/posts/tizi.png" alt="my-vps-install"></div><div class="item__info"><h3 class="item__title">my-vps-install</h3><span class="item__text">2019-06-20</span></div></a></li><li class="latest-post-item"><a href="/2019/05/13/hard-to-run/" title="太用力的人跑不远"><div class="item__cover"><img src="/img/posts/fly.jpg" alt="太用力的人跑不远"></div><div class="item__info"><h3 class="item__title">太用力的人跑不远</h3><span class="item__text">2019-05-13</span></div></a></li></ul></div><div class="sidebar__block"><h3 class="block__title">文章标签</h3><ul class="block-list tag-list clearfix"><li class="tag-item"><a class="tag-link" href="/tags/api/">api</a></li><li class="tag-item"><a class="tag-link" href="/tags/git/">git</a></li><li class="tag-item"><a class="tag-link" href="/tags/http/">http</a></li><li class="tag-item"><a class="tag-link" href="/tags/laravel/">laravel</a></li><li class="tag-item"><a class="tag-link" href="/tags/linux/">linux</a></li><li class="tag-item"><a class="tag-link" href="/tags/mac/">mac</a></li><li class="tag-item"><a class="tag-link" href="/tags/mysql/">mysql</a></li><li class="tag-item"><a class="tag-link" href="/tags/php/">php</a></li><li class="tag-item"><a class="tag-link" href="/tags/yii2-0/">yii2.0</a></li><li class="tag-item"><a class="tag-link" href="/tags/人艰不拆/">人艰不拆</a></li><li class="tag-item"><a class="tag-link" href="/tags/自律/">自律</a></li></ul></div></aside></main><footer class="page__footer"><section class="footer__top"><div class="page__container footer__container"><div class="footer-top__item footer-top__item--4"><h3 class="item__title">关于</h3><div class="item__content"><p class="item__text">本站是基于 Hexo 搭建的静态资源博客，主要用于分享日常学习、生活及工作的一些心得总结，欢迎点击右下角订阅 rss。</p><ul class="footer__contact-info"><li class="contact-info__item"><i class="iconfont icon-address"></i> <span>Shantou, Guangdong Province, China</span></li><li class="contact-info__item"><i class="iconfont icon-email2"></i> <span>chenchao_cn@qq.com</span></li></ul></div></div><div class="footer-top__item"><h3 class="item__title">友情链接</h3><div class="item__content"><ul class="footer-top__list"><li class="list-item"><a href="https://github.com/Mrminfive/hexo-theme-skapp" title="hexo-theme-skapp" target="_blank">hexo-theme-skapp</a></li></ul></div></div><div class="footer-top__item"><h3 class="item__title">构建工具</h3><div class="item__content"><ul class="footer-top__list"><li class="list-item"><a href="https://hexo.io/" title="Blog Framework" target="_blank">Hexo</a></li></ul></div></div></div></section><section class="footer__bottom"><div class="page__container footer__container"><p class="footer__copyright">© <a href="https://github.com/Mrminfive/hexo-theme-skapp" target="_blank">Skapp</a> 2017 powered by <a href="http://hexo.io/" target="_blank">Hexo</a>, made by <a href="https://github.com/Mrminfive" target="_blank">minfive</a>.</p><ul class="footer__social-network clearfix"><li class="social-network__item"><a href="https://github.com/Double-C" target="_blank" title="github"><i class="iconfont icon-github"></i></a></li><li class="social-network__item"><a href="mailto:chenchao_cn@qq.com" target="_blank" title="email"><i class="iconfont icon-email"></i></a></li><li class="social-network__item"><a href="/atom.xml" target="_blank" title="rss"><i class="iconfont icon-rss"></i></a></li></ul></div></section></footer><div id="back-top" class="back-top back-top--hidden js-hidden"><i class="iconfont icon-top"></i></div></div><script src="/js/common.js"></script><script src="/js/page/post.js"></script><link rel="stylesheet" href="https://unpkg.com/gitalk/dist/gitalk.css"><script src="https://unpkg.com/gitalk/dist/gitalk.min.js"></script><script src="/js/md5.min.js"></script><script>var tags=["php"],gitalk=new Gitalk({clientID:"0ab6fbc345e392e6cfb9",clientSecret:"a00e86d6d283eb80bfb5138b1a23e756654883b6",repo:"double-c.github.io",owner:"Double-C",admin:["Double-C"],labels:tags,id:new Date(1521949104e3).getTime()>new Date("2018-02-15").getTime()?md5(location.pathname):location.pathname});gitalk.render("comment-container")</script><script async src="//dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js"></script></body></html>